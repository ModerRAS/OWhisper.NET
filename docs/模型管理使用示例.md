# 🔧 模型管理使用示例

## 快速开始指南

### 1. 打开模型管理器

#### 步骤 1: 从托盘菜单启动
1. 找到系统托盘中的 OWhisper.NET 图标
2. 右键点击图标
3. 选择 "模型管理" 菜单项

```
托盘菜单:
┌─ 启动服务
├─ 停止服务
├─ ────────────
├─ 队列识别
├─ ────────────
├─ 模型管理        ← 点击这里
├─ ────────────
├─ 检查更新
└─ ...
```

### 2. 查看当前模型状态

#### 模型管理窗口布局
```
┌─ 模型管理 ──────────────────────────────────────────┐
│ ┌─ 当前模型状态 ────────────────────────────────────┐ │
│ │ 当前模型: ggml-large-v3-turbo.bin               │ │
│ │ 状态: 有效 | 大小: 809.2 MB                    │ │
│ └─────────────────────────────────────────────────┘ │
│                                                    │
│ [导入模型文件] [删除当前模型] [刷新状态] [打开文件夹]    │
│                                                    │
│ ┌─ 可用模型下载 ────────────────────────────────────┐ │
│ │ ┌─┬─────────────┬─────────┬─────┬──────────────┐ │ │
│ │ │ │ 模型名称    │ 文件名   │ 大小 │ 状态          │ │ │
│ │ ├─┼─────────────┼─────────┼─────┼──────────────┤ │ │
│ │ │ │Large V3 Turbo│ggml-...│809MB│ 已安装       │ │ │
│ │ │ │Large V3     │ggml-...│1.5GB│ 未安装       │ │ │
│ │ │ │Medium       │ggml-...│769MB│ 未安装       │ │ │
│ │ │ │Small        │ggml-...│244MB│ 未安装       │ │ │
│ │ └─┴─────────────┴─────────┴─────┴──────────────┘ │ │
│ │                                                │ │
│ │ [下载选中模型]                                   │ │
│ └─────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────┘
```

### 3. 下载新模型

#### 示例: 下载 Medium 模型

**步骤 1**: 选择模型
1. 在"可用模型下载"列表中找到 "Medium" 模型
2. 点击选中该行

**步骤 2**: 选择下载方式
- **方式A**: 应用内下载（推荐）
  1. 点击 "下载选中模型" 按钮
  2. 确认下载对话框（如果模型未安装）

- **方式B**: 浏览器下载
  1. 点击 "在浏览器中下载" 按钮
  2. 浏览器会自动打开下载页面
  3. 在浏览器中下载文件到本地

**步骤 3**: 监控进度（应用内下载）
```
下载进度:
├─ 进度条: ████████░░░░ 67%
├─ 状态: 正在下载 Medium...
├─ 速度: 2.3 MB/s
└─ [取消下载]
```

**步骤 4**: 完成导入
- **应用内下载**: 下载完成后会显示成功提示，状态自动更新
- **浏览器下载**: 下载完成后，使用"导入模型文件"功能将下载的文件导入到应用中

### 4. 导入本地模型

#### 示例: 导入自定义模型文件

**步骤 1**: 准备模型文件
- 确保文件是有效的 `.bin` 或 `.gguf` 格式
- 文件大小应大于 1MB

**步骤 2**: 开始导入
1. 点击 "导入模型文件" 按钮
2. 在文件选择对话框中浏览并选择模型文件
3. 点击 "打开"

**步骤 3**: 确认导入
```
导入过程:
1. 文件验证 ✓
2. 复制文件 ██████████ 100%
3. 更新状态 ✓

导入完成! 模型已保存到:
C:\Users\用户名\AppData\Roaming\OWhisper\Models\custom-model.bin
```

### 5. 管理现有模型

#### 删除模型
1. 确保当前有安装的模型
2. 点击 "删除当前模型" 按钮
3. 在确认对话框中点击 "是"

⚠️ **警告**: 删除模型后需要重新下载才能使用转录功能

#### 刷新状态
- 如果模型状态显示不正确，点击 "刷新状态" 按钮
- 系统会重新检查模型文件的完整性

#### 打开模型文件夹
1. 点击 "打开模型文件夹" 按钮
2. 系统会打开模型存储目录
3. 可以直接查看、备份或管理模型文件

## 常见使用场景

### 场景 1: 切换到更小的模型（节省资源）

**目标**: 从 Large V3 Turbo 切换到 Small 模型

1. 打开模型管理器
2. 下载 Small 模型
3. 删除当前的 Large V3 Turbo 模型
4. 重启 OWhisper.NET 应用

### 场景 2: 升级到最新模型

**目标**: 从老版本模型升级到 Large V3 Turbo

1. 检查当前模型状态
2. 下载 Large V3 Turbo 模型
3. 等待下载完成
4. 删除旧模型（可选）
5. 重启应用使用新模型

### 场景 3: 备份和恢复模型

**目标**: 备份现有模型到其他位置

1. 点击 "打开模型文件夹"
2. 复制模型文件到备份位置
3. 如需恢复，使用 "导入模型文件" 功能

### 场景 4: 使用浏览器下载管理大文件 🆕

**目标**: 在网络不稳定的情况下下载大模型文件

1. 选择需要的模型（如 Large V3 1.5GB）
2. 点击 "在浏览器中下载" 按钮
3. 在浏览器中管理下载（暂停/恢复/重试）
4. 下载完成后，使用 "导入模型文件" 导入到应用中
5. 点击 "刷新状态" 确认模型可用

## 故障排除

### 问题 1: 下载速度很慢
**解决方案**:
- 检查网络连接
- 尝试暂停并重新开始下载
- 检查是否有其他程序占用带宽

### 问题 2: 导入文件失败
**解决方案**:
- 确认文件格式正确（.bin 或 .gguf）
- 检查文件是否损坏
- 确保有足够的磁盘空间
- 以管理员权限运行程序

### 问题 3: 模型状态显示异常
**解决方案**:
- 点击 "刷新状态" 按钮
- 检查模型文件是否存在
- 重启应用
- 查看日志文件了解详细错误信息

## 高级技巧

### 技巧 1: 批量管理模型
1. 使用 "打开模型文件夹" 直接管理文件
2. 可以手动重命名、移动或删除模型文件
3. 使用 "刷新状态" 更新界面显示

### 技巧 2: 网络环境优化
- 如果下载失败，检查防火墙设置
- 在企业网络中，可能需要配置代理
- 大文件下载建议在网络空闲时进行

### 技巧 3: 性能调优
- Small 模型: 适合实时处理或资源受限环境
- Medium 模型: 平衡选择，适合大多数场景
- Large 模型: 最高精度，适合离线批量处理

---

**提示**: 模型管理功能会记住您的选择和偏好，下次启动时会自动加载相应的模型配置。 